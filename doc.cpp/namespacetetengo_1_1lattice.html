<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tetengo: tetengo::lattice Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tetengo<span id="projectnumber">&#160;1.8.2</span>
   </div>
   <div id="projectbrief">A multipurpose library set</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacetetengo_1_1lattice.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle"><div class="title">tetengo::lattice Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A lattice library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1cap.html">cap</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A cap.  <a href="classtetengo_1_1lattice_1_1cap.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1connection.html">connection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A connection.  <a href="classtetengo_1_1lattice_1_1connection.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1constraint.html">constraint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A constraint.  <a href="classtetengo_1_1lattice_1_1constraint.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1constraint__element.html">constraint_element</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A constraint element.  <a href="classtetengo_1_1lattice_1_1constraint__element.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1entry.html">entry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry.  <a href="classtetengo_1_1lattice_1_1entry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1entry__view.html">entry_view</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry view.  <a href="classtetengo_1_1lattice_1_1entry__view.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1input.html">input</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An input.  <a href="classtetengo_1_1lattice_1_1input.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1lattice.html">lattice</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lattice.  <a href="classtetengo_1_1lattice_1_1lattice.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1n__best__iterator.html">n_best_iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An N-best lattice path iterator.  <a href="classtetengo_1_1lattice_1_1n__best__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1node.html">node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A node.  <a href="classtetengo_1_1lattice_1_1node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1node__constraint__element.html">node_constraint_element</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A node constraint element.  <a href="classtetengo_1_1lattice_1_1node__constraint__element.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1path.html">path</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A path.  <a href="classtetengo_1_1lattice_1_1path.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1string__input.html">string_input</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A string input.  <a href="classtetengo_1_1lattice_1_1string__input.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1unordered__map__vocabulary.html">unordered_map_vocabulary</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An unordered map vocabulary.  <a href="classtetengo_1_1lattice_1_1unordered__map__vocabulary.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1vocabulary.html">vocabulary</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vocabulary.  <a href="classtetengo_1_1lattice_1_1vocabulary.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtetengo_1_1lattice_1_1wildcard__constraint__element.html">wildcard_constraint_element</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A wildcard constraint element.  <a href="classtetengo_1_1lattice_1_1wildcard__constraint__element.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A lattice library. </p>
<h1><a class="anchor" id="usage-lattice"></a>
Usage</h1>
<h2><a class="anchor" id="usage-lattice-viterbi"></a>
Viterbi Search</h2>
<h3><a class="anchor" id="usage-lattice-viterbi-cpp"></a>
C++</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;any&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;boost/stl_interfaces/iterator_interface.hpp&gt;</span> <span class="comment">// IWYU pragma: keep</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="constraint_8hpp.html">tetengo/lattice/constraint.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="entry_8hpp.html">tetengo/lattice/entry.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="input_8hpp.html">tetengo/lattice/input.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="lattice_8hpp.html">tetengo/lattice/lattice.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="n__best__iterator_8hpp.html">tetengo/lattice/n_best_iterator.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="node_8hpp.html">tetengo/lattice/node.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="path_8hpp.html">tetengo/lattice/path.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="string__input_8hpp.html">tetengo/lattice/string_input.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="unordered__map__vocabulary_8hpp.html">tetengo/lattice/unordered_map_vocabulary.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="vocabulary_8hpp.html">tetengo/lattice/vocabulary.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>usage_tetengo::lattice</div>
<div class="line">{</div>
<div class="line">    std::unique_ptr&lt;tetengo::lattice::vocabulary&gt; build_vocabulary();</div>
<div class="line">    std::string                                   to_string(<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1path.html">tetengo::lattice::path</a>&amp; path_);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> viterbi()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">            Makes the following lattice and searches it.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">                    /-----[ab:AwaBizan]-----\</span></div>
<div class="line"><span class="comment">                   /  (7)      (9)      (1)  \</span></div>
<div class="line"><span class="comment">                  /                           \</span></div>
<div class="line"><span class="comment">                 /       (2)   (4)   (7)       \</span></div>
<div class="line"><span class="comment">            [BOS]-----[a:Alpha]---[b:Bravo]-----[EOS]</span></div>
<div class="line"><span class="comment">                 \ (3)         \ /(1)      (2) /</span></div>
<div class="line"><span class="comment">                  \&zwj;(1)          X             /(6)</span></div>
<div class="line"><span class="comment">                   \           / \&zwj;(5)        /</span></div>
<div class="line"><span class="comment">                    `-[a:Alice]---[b:Bob]---&#39;</span></div>
<div class="line"><span class="comment">                         (1)   (9)  (8)</span></div>
<div class="line"><span class="comment">            Path                         Cost</span></div>
<div class="line"><span class="comment">            [BOS]-[Alice]-[Bravo]-[EOS]  1+1+1+7+2=12</span></div>
<div class="line"><span class="comment">            [BOS]---[AwaBizan]----[EOS]  7+9+1    =17</span></div>
<div class="line"><span class="comment">            [BOS]-[Alpha]-[Bravo]-[EOS]  3+2+4+7+2=18</span></div>
<div class="line"><span class="comment">            [BOS]-[Alpha]-[Bob]---[EOS]  3+2+5+8+6=24</span></div>
<div class="line"><span class="comment">            [BOS]-[Alice]-[Bob]---[EOS]  1+1+9+8+6=25</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Builds a vocabulary.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> p_vocabulary = build_vocabulary();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Creates an object for a lattice.</span></div>
<div class="line">        <a class="code hl_class" href="classtetengo_1_1lattice_1_1lattice.html">tetengo::lattice::lattice</a> lattice_{ *p_vocabulary };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Enters key characters to construct the lattice.</span></div>
<div class="line">        lattice_.<a class="code hl_function" href="classtetengo_1_1lattice_1_1lattice.html#aade0424f8f5e10afe9db014778cc2339">push_back</a>(std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;a&quot;</span>));</div>
<div class="line">        lattice_.push_back(std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;b&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Finishes the lattice construction.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> eos_and_preceding_costs = lattice_.settle();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Creates an iterator to enumerate the paths in the lattice.</span></div>
<div class="line">        <a class="code hl_class" href="classtetengo_1_1lattice_1_1n__best__iterator.html">tetengo::lattice::n_best_iterator</a> first{ lattice_,</div>
<div class="line">                                                 eos_and_preceding_costs.first,</div>
<div class="line">                                                 std::make_unique&lt;tetengo::lattice::constraint&gt;() };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Enumerates the paths.</span></div>
<div class="line">        std::vector&lt;std::string&gt; paths{};</div>
<div class="line">        std::for_each(</div>
<div class="line">            std::move(first), <a class="code hl_class" href="classtetengo_1_1lattice_1_1n__best__iterator.html">tetengo::lattice::n_best_iterator</a>{}, [&amp;paths](<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1path.html">tetengo::lattice::path</a>&amp; path_) {</div>
<div class="line">                paths.push_back(to_string(path_));</div>
<div class="line">            });</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::string&gt; expected{</div>
<div class="line">            <span class="comment">// clang-format off</span></div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alice]-[Bravo]-[EOS] (12)&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[AwaBizan]-[EOS] (17)&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alpha]-[Bravo]-[EOS] (18)&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alpha]-[Bob]-[EOS] (24)&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alice]-[Bob]-[EOS] (25)&quot;</span>,</div>
<div class="line">            <span class="comment">// clang-format on</span></div>
<div class="line">        };</div>
<div class="line">        assert(paths == expected);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::string value_of(<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1entry__view.html">tetengo::lattice::entry_view</a>&amp; entry)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The value is stored in the std::any object.</span></div>
<div class="line">        <span class="keywordflow">return</span> entry.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2945293ba5d6de1d3b4f884b17f8418d">value</a>()-&gt;has_value() ? std::any_cast&lt;std::string&gt;(*entry.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2945293ba5d6de1d3b4f884b17f8418d">value</a>()) : std::string{};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::unique_ptr&lt;tetengo::lattice::vocabulary&gt; build_vocabulary()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The contents of the vocabulary.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;tetengo::lattice::entry&gt; entries{</div>
<div class="line">            <span class="comment">// clang-format off</span></div>
<div class="line">            { std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;a&quot;</span>), std::string{ <span class="stringliteral">&quot;Alpha&quot;</span> }, 2 },</div>
<div class="line">            { std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;b&quot;</span>), std::string{ <span class="stringliteral">&quot;Bravo&quot;</span> }, 7 },</div>
<div class="line">            { std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;a&quot;</span>), std::string{ <span class="stringliteral">&quot;Alice&quot;</span> }, 1 },</div>
<div class="line">            { std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;b&quot;</span>), std::string{ <span class="stringliteral">&quot;Bob&quot;</span> }, 8 }, </div>
<div class="line">            { std::make_unique&lt;tetengo::lattice::string_input&gt;(<span class="stringliteral">&quot;ab&quot;</span>), std::string{ <span class="stringliteral">&quot;AwaBizan&quot;</span> }, 9 },</div>
<div class="line">            <span class="comment">// clang-format on</span></div>
<div class="line">        };</div>
<div class="line">        std::vector&lt;std::pair&lt;std::string, std::vector&lt;tetengo::lattice::entry&gt;&gt;&gt; entry_mappings{</div>
<div class="line">            <span class="comment">// clang-format off</span></div>
<div class="line">            { <span class="stringliteral">&quot;a&quot;</span>, { entries[0], entries[2] } },</div>
<div class="line">            { <span class="stringliteral">&quot;b&quot;</span>, { entries[1], entries[3] } },</div>
<div class="line">            { <span class="stringliteral">&quot;ab&quot;</span>, { entries[4] }},</div>
<div class="line">            <span class="comment">// clang-format on</span></div>
<div class="line">        };</div>
<div class="line">        std::vector&lt;std::pair&lt;std::pair&lt;tetengo::lattice::entry, tetengo::lattice::entry&gt;, <span class="keywordtype">int</span>&gt;&gt; connections{</div>
<div class="line">            <span class="comment">// clang-format off</span></div>
<div class="line">            { { <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>(), entries[0] }, 3 },</div>
<div class="line">            { { <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>(), entries[2] }, 1 },</div>
<div class="line">            { { entries[0], entries[1] }, 4 },</div>
<div class="line">            { { entries[2], entries[1] }, 1 },</div>
<div class="line">            { { entries[0], entries[3] }, 5 },</div>
<div class="line">            { { entries[2], entries[3] }, 9 },</div>
<div class="line">            { { entries[1], <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>() }, 2 },</div>
<div class="line">            { { entries[3], <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>() }, 6 },</div>
<div class="line">            { { <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>(), entries[4] }, 7 },</div>
<div class="line">            { { entries[4], <a class="code hl_function" href="classtetengo_1_1lattice_1_1entry.html#ab2da667bf3df6e5b328b4d0cbe466818">tetengo::lattice::entry::bos_eos</a>() }, 1 },</div>
<div class="line">            <span class="comment">// clang-format on</span></div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Returns a vocabulary implemented with hash tables.</span></div>
<div class="line">        <span class="keywordflow">return</span> std::make_unique&lt;tetengo::lattice::unordered_map_vocabulary&gt;(</div>
<div class="line">            std::move(entry_mappings),</div>
<div class="line">            std::move(connections),</div>
<div class="line">            [](<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1entry__view.html">tetengo::lattice::entry_view</a>&amp; entry) {</div>
<div class="line">                <span class="keywordflow">return</span> (entry.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2bd21d5b46084e64db2b5c942a5193fa">p_key</a>() ? entry.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2bd21d5b46084e64db2b5c942a5193fa">p_key</a>()-&gt;<a class="code hl_function" href="classtetengo_1_1lattice_1_1input.html#a625f4f053a312b5daf168de67b9a44e7">hash_value</a>() : 0) ^ std::hash&lt;std::string&gt;{}(value_of(entry));</div>
<div class="line">            },</div>
<div class="line">            [](<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1entry__view.html">tetengo::lattice::entry_view</a>&amp; entry1, <span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1entry__view.html">tetengo::lattice::entry_view</a>&amp; entry2) {</div>
<div class="line">                <span class="keywordflow">return</span> ((!entry1.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2bd21d5b46084e64db2b5c942a5193fa">p_key</a>() &amp;&amp; !entry2.p_key()) ||</div>
<div class="line">                        (entry1.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2bd21d5b46084e64db2b5c942a5193fa">p_key</a>() &amp;&amp; entry2.p_key() &amp;&amp; *entry1.<a class="code hl_function" href="classtetengo_1_1lattice_1_1entry__view.html#a2bd21d5b46084e64db2b5c942a5193fa">p_key</a>() == *entry2.p_key())) &amp;&amp;</div>
<div class="line">                       (value_of(entry1) == value_of(entry2));</div>
<div class="line">            });</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::string value_of(<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1node.html">tetengo::lattice::node</a>&amp; node_, <span class="keyword">const</span> <span class="keywordtype">bool</span> first)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (node_.<a class="code hl_function" href="classtetengo_1_1lattice_1_1node.html#af05ac2e20095c53b1a954a90f032a596">value</a>().has_value())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The value is stored in the std::any object.</span></div>
<div class="line">            <span class="keywordflow">return</span> std::any_cast&lt;std::string&gt;(node_.<a class="code hl_function" href="classtetengo_1_1lattice_1_1node.html#af05ac2e20095c53b1a954a90f032a596">value</a>());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (first)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;BOS&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;EOS&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    std::string to_string(<span class="keyword">const</span> <a class="code hl_class" href="classtetengo_1_1lattice_1_1path.html">tetengo::lattice::path</a>&amp; path_)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Each path object holds the nodes that make up itself, and the whole cost.</span></div>
<div class="line">        std::string result{};</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; node: path_.<a class="code hl_function" href="classtetengo_1_1lattice_1_1path.html#abcb1cb970640af1209e0833f57d66811">nodes</a>())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (!std::empty(result))</div>
<div class="line">            {</div>
<div class="line">                result += <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line">            }</div>
<div class="line">            result += <span class="stringliteral">&quot;[&quot;</span> + value_of(node, std::empty(result)) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        result += <span class="stringliteral">&quot; (&quot;</span> + std::to_string(path_.<a class="code hl_function" href="classtetengo_1_1lattice_1_1path.html#a8fe4585bf3f71503c49651cced724b3e">cost</a>()) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span> result;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="usage-lattice-viterbi-c"></a>
C</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="connection_8h.html">tetengo/lattice/connection.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="constraint_8h.html">tetengo/lattice/constraint.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="entry_8h.html">tetengo/lattice/entry.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="input_8h.html">tetengo/lattice/input.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="lattice_8h.html">tetengo/lattice/lattice.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="nBestIterator_8h.html">tetengo/lattice/nBestIterator.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="node_8h.html">tetengo/lattice/node.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="path_8h.html">tetengo/lattice/path.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="stringView_8h.html">tetengo/lattice/stringView.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="vocabulary_8h.html">tetengo/lattice/vocabulary.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">tetengo_lattice_vocabulary_t* build_vocabulary();</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>*                   to_string(<span class="keyword">const</span> tetengo_lattice_path_t* p_path);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> usage_tetengo_lattice_viterbi()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">        Makes the following lattice and searches it.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">                /-----[ab:AwaBizan]-----\</span></div>
<div class="line"><span class="comment">               /  (7)      (9)      (1)  \</span></div>
<div class="line"><span class="comment">              /                           \</span></div>
<div class="line"><span class="comment">             /       (2)   (4)   (7)       \</span></div>
<div class="line"><span class="comment">        [BOS]-----[a:Alpha]---[b:Bravo]-----[EOS]</span></div>
<div class="line"><span class="comment">             \ (3)         \ /(1)      (2) /</span></div>
<div class="line"><span class="comment">              \&zwj;(1)          X             /(6)</span></div>
<div class="line"><span class="comment">               \           / \&zwj;(5)        /</span></div>
<div class="line"><span class="comment">                `-[a:Alice]---[b:Bob]---&#39;</span></div>
<div class="line"><span class="comment">                     (1)   (9)  (8)</span></div>
<div class="line"><span class="comment">        Path                         Cost</span></div>
<div class="line"><span class="comment">        [BOS]-[Alice]-[Bravo]-[EOS]  1+1+1+7+2=12</span></div>
<div class="line"><span class="comment">        [BOS]---[AwaBizan]----[EOS]  7+9+1    =17</span></div>
<div class="line"><span class="comment">        [BOS]-[Alpha]-[Bravo]-[EOS]  3+2+4+7+2=18</span></div>
<div class="line"><span class="comment">        [BOS]-[Alpha]-[Bob]---[EOS]  3+2+5+8+6=24</span></div>
<div class="line"><span class="comment">        [BOS]-[Alice]-[Bob]---[EOS]  1+1+9+8+6=25</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Builds a vocabulary.</span></div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_vocabulary_t* <span class="keyword">const</span> p_vocabulary = build_vocabulary();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creates an object for a lattice.</span></div>
<div class="line">    tetengo_lattice_lattice_t* <span class="keyword">const</span> p_lattice = <a class="code hl_function" href="lattice_8h.html#a8ff22a9ae216240fbf32c979304bda62">tetengo_lattice_lattice_create</a>(p_vocabulary);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Enters key characters to construct the lattice.</span></div>
<div class="line">    tetengo_lattice_input_t* <span class="keyword">const</span> p_input_a = <a class="code hl_function" href="input_8h.html#abcf22d84b5a73c75c1d3412a216ce572">tetengo_lattice_input_createStringInput</a>(<span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">    tetengo_lattice_input_t* <span class="keyword">const</span> p_input_b = <a class="code hl_function" href="input_8h.html#abcf22d84b5a73c75c1d3412a216ce572">tetengo_lattice_input_createStringInput</a>(<span class="stringliteral">&quot;b&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="lattice_8h.html#a42469b6110625cf1b5852abb763c1150">tetengo_lattice_lattice_pushBack</a>(p_lattice, p_input_a);</div>
<div class="line">    <a class="code hl_function" href="lattice_8h.html#a42469b6110625cf1b5852abb763c1150">tetengo_lattice_lattice_pushBack</a>(p_lattice, p_input_b);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Finishes the lattice construction.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span> eos_preceding_count = <a class="code hl_function" href="lattice_8h.html#a68d45f74c6492f3764a62eee25848ffb">tetengo_lattice_lattice_settle</a>(p_lattice, NULL, NULL);</div>
<div class="line">    <span class="keywordflow">if</span> (eos_preceding_count == 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structtetengo__lattice__node__tag.html">tetengo_lattice_node_t</a> eos_node;</div>
<div class="line">    <span class="keywordtype">int</span>* <span class="keyword">const</span>             p_eos_preceding_costs = (<span class="keywordtype">int</span>*)malloc(eos_preceding_count * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line">    <a class="code hl_function" href="lattice_8h.html#a68d45f74c6492f3764a62eee25848ffb">tetengo_lattice_lattice_settle</a>(p_lattice, &amp;eos_node, p_eos_preceding_costs);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Creates an iterator to enumerate the paths in the lattice.</span></div>
<div class="line">    tetengo_lattice_nBestIterator_t* <span class="keyword">const</span> p_iterator =</div>
<div class="line">        <a class="code hl_function" href="nBestIterator_8h.html#a7c9944ee84d43bb28f270808c0812b1f">tetengo_lattice_nBestIterator_create</a>(p_lattice, &amp;eos_node, <a class="code hl_function" href="constraint_8h.html#aba797fc095b7a85c6ca10e6eff9e905d">tetengo_lattice_constraint_createEmpty</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Enumerates the paths.</span></div>
<div class="line">    <span class="keywordtype">char</span> paths[256] = { 0 };</div>
<div class="line">    <span class="keywordflow">while</span> (<a class="code hl_function" href="nBestIterator_8h.html#aa4434e5365adcc9731d60491b1c06302">tetengo_lattice_nBestIterator_hasNext</a>(p_iterator))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Obtains the current path.</span></div>
<div class="line">        tetengo_lattice_path_t* <span class="keyword">const</span> p_path = <a class="code hl_function" href="nBestIterator_8h.html#af339ab2e00a2c84b1251f30bc8491589">tetengo_lattice_nBestIterator_createPath</a>(p_iterator);</div>
<div class="line"> </div>
<div class="line">        strcat(paths, to_string(p_path));</div>
<div class="line">        <a class="code hl_function" href="path_8h.html#aaf6a72e3a6a1d6172117ace772608286">tetengo_lattice_path_destroy</a>(p_path);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Moves to the next path.</span></div>
<div class="line">        <a class="code hl_function" href="nBestIterator_8h.html#a8593ece2dfb53f607b4bfa54609e4e40">tetengo_lattice_nBestIterator_next</a>(p_iterator);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// clang-format off</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> expected =</div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alice]-[Bravo]-[EOS] (12)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[AwaBizan]-[EOS] (17)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alpha]-[Bravo]-[EOS] (18)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alpha]-[Bob]-[EOS] (24)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;[BOS]-[Alice]-[Bob]-[EOS] (25)\n&quot;</span>;</div>
<div class="line">    <span class="comment">// clang-format on</span></div>
<div class="line">    assert(strcmp(paths, expected) == 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="nBestIterator_8h.html#aa609f998d9926f0fe97fbdd85b9b1b08">tetengo_lattice_nBestIterator_destroy</a>(p_iterator);</div>
<div class="line">    free((<span class="keywordtype">void</span>*)p_eos_preceding_costs);</div>
<div class="line">    <a class="code hl_function" href="lattice_8h.html#aad43fb6874d2e2436d28b6f6bce36322">tetengo_lattice_lattice_destroy</a>(p_lattice);</div>
<div class="line">    <a class="code hl_function" href="vocabulary_8h.html#ae8cf2db640cf69e3da96c6d3d37d1109">tetengo_lattice_vocabulary_destroy</a>(p_vocabulary);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">size_t</span> hash(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <span class="keywordtype">string</span>, <span class="keyword">const</span> <span class="keywordtype">size_t</span> length)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> value = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; length; ++i)</div>
<div class="line">    {</div>
<div class="line">        value ^= <span class="keywordtype">string</span>[i];</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> value;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">size_t</span> entry_hash(<span class="keyword">const</span> <a class="code hl_struct" href="structtetengo__lattice__entryView__tag.html">tetengo_lattice_entryView_t</a>* <span class="keyword">const</span> p_entry)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span> p_entry_key = <a class="code hl_function" href="entry_8h.html#af6e9a7119a5a2b87c362d59eff56d654">tetengo_lattice_entryView_createKeyOf</a>(p_entry-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#a3997551e3a8070b5e8da2f74957e626a">key_handle</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span>                         key_hash = p_entry_key ? <a class="code hl_function" href="input_8h.html#a6fc8e26f0a1097dffb60b27cdaf522c0">tetengo_lattice_input_hashValue</a>(p_entry_key) : 0;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span>                    value = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code hl_function" href="entry_8h.html#abc8cb31cca26a63888808e17194fffdd">tetengo_lattice_entryView_valueOf</a>(p_entry-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#accef05ee81ea7a18c6ac332a46b68065">value_handle</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span>                         value_hash = value ? hash(value, strlen(value)) : 0;</div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key);</div>
<div class="line">    <span class="keywordflow">return</span> key_hash ^ value_hash;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">entry_equal_to(<span class="keyword">const</span> <a class="code hl_struct" href="structtetengo__lattice__entryView__tag.html">tetengo_lattice_entryView_t</a>* <span class="keyword">const</span> p_entry1, <span class="keyword">const</span> <a class="code hl_struct" href="structtetengo__lattice__entryView__tag.html">tetengo_lattice_entryView_t</a>* <span class="keyword">const</span> p_entry2)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span> p_entry_key1 = <a class="code hl_function" href="entry_8h.html#af6e9a7119a5a2b87c362d59eff56d654">tetengo_lattice_entryView_createKeyOf</a>(p_entry1-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#a3997551e3a8070b5e8da2f74957e626a">key_handle</a>);</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span> p_entry_key2 = <a class="code hl_function" href="entry_8h.html#af6e9a7119a5a2b87c362d59eff56d654">tetengo_lattice_entryView_createKeyOf</a>(p_entry2-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#a3997551e3a8070b5e8da2f74957e626a">key_handle</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> value1 = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code hl_function" href="entry_8h.html#abc8cb31cca26a63888808e17194fffdd">tetengo_lattice_entryView_valueOf</a>(p_entry1-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#accef05ee81ea7a18c6ac332a46b68065">value_handle</a>);</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> value2 = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code hl_function" href="entry_8h.html#abc8cb31cca26a63888808e17194fffdd">tetengo_lattice_entryView_valueOf</a>(p_entry2-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#accef05ee81ea7a18c6ac332a46b68065">value_handle</a>);</div>
<div class="line">    <span class="keywordtype">int</span>               equality = 1;</div>
<div class="line">    equality = equality &amp;&amp; ((!p_entry_key1 &amp;&amp; !p_entry_key2) ||</div>
<div class="line">                            (p_entry_key1 &amp;&amp; p_entry_key2 &amp;&amp; <a class="code hl_function" href="input_8h.html#acb64889ab0bc711bd8bfba15555602bf">tetengo_lattice_input_equal</a>(p_entry_key1, p_entry_key2)));</div>
<div class="line">    equality = equality &amp;&amp; ((!value1 &amp;&amp; !value2) || (value1 &amp;&amp; value2 &amp;&amp; strcmp(value1, value2) == 0));</div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key2);</div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key1);</div>
<div class="line">    <span class="keywordflow">return</span> equality;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">tetengo_lattice_vocabulary_t* build_vocabulary()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The contents of the vocabulary.</span></div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span>    p_entry_key_a = <a class="code hl_function" href="input_8h.html#abcf22d84b5a73c75c1d3412a216ce572">tetengo_lattice_input_createStringInput</a>(<span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span>    p_entry_key_b = <a class="code hl_function" href="input_8h.html#abcf22d84b5a73c75c1d3412a216ce572">tetengo_lattice_input_createStringInput</a>(<span class="stringliteral">&quot;b&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span>    p_entry_key_ab = <a class="code hl_function" href="input_8h.html#abcf22d84b5a73c75c1d3412a216ce572">tetengo_lattice_input_createStringInput</a>(<span class="stringliteral">&quot;ab&quot;</span>);</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_typedef" href="entry_8h.html#ac0ff2432dccafe4ae8d7a8076c65b512">tetengo_lattice_entry_keyHandle_t</a> entry_key_handle_a = <a class="code hl_function" href="entry_8h.html#a64913ec022f1a98deb8b5da22dd4e44c">tetengo_lattice_entry_toKeyHandle</a>(p_entry_key_a);</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_typedef" href="entry_8h.html#ac0ff2432dccafe4ae8d7a8076c65b512">tetengo_lattice_entry_keyHandle_t</a> entry_key_handle_b = <a class="code hl_function" href="entry_8h.html#a64913ec022f1a98deb8b5da22dd4e44c">tetengo_lattice_entry_toKeyHandle</a>(p_entry_key_b);</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_typedef" href="entry_8h.html#ac0ff2432dccafe4ae8d7a8076c65b512">tetengo_lattice_entry_keyHandle_t</a> entry_key_handle_ab = <a class="code hl_function" href="entry_8h.html#a64913ec022f1a98deb8b5da22dd4e44c">tetengo_lattice_entry_toKeyHandle</a>(p_entry_key_ab);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structtetengo__lattice__entry__tag.html">tetengo_lattice_entry_t</a>              entries[5] = { { 0, 0, 0 } };</div>
<div class="line">    <a class="code hl_struct" href="structtetengo__lattice__entry__tag.html">tetengo_lattice_entry_t</a>              bos_eos;</div>
<div class="line">    <span class="keyword">const</span> tetengo_lattice_input_t* <span class="keyword">const</span> p_bos_eos_key =</div>
<div class="line">        <a class="code hl_function" href="entry_8h.html#af6e9a7119a5a2b87c362d59eff56d654">tetengo_lattice_entryView_createKeyOf</a>(<a class="code hl_function" href="entry_8h.html#a3dbd670c9b42bd46a0d589487590216d">tetengo_lattice_entryView_bosEos</a>()-&gt;key_handle);</div>
<div class="line">    entries[0].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = entry_key_handle_a;</div>
<div class="line">    entries[0].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <span class="stringliteral">&quot;Alpha&quot;</span>;</div>
<div class="line">    entries[0].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = 2;</div>
<div class="line">    entries[1].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = entry_key_handle_a;</div>
<div class="line">    entries[1].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <span class="stringliteral">&quot;Alice&quot;</span>;</div>
<div class="line">    entries[1].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = 1;</div>
<div class="line">    entries[2].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = entry_key_handle_b;</div>
<div class="line">    entries[2].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <span class="stringliteral">&quot;Bravo&quot;</span>;</div>
<div class="line">    entries[2].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = 7;</div>
<div class="line">    entries[3].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = entry_key_handle_b;</div>
<div class="line">    entries[3].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <span class="stringliteral">&quot;Bob&quot;</span>;</div>
<div class="line">    entries[3].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = 8;</div>
<div class="line">    entries[4].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = entry_key_handle_ab;</div>
<div class="line">    entries[4].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <span class="stringliteral">&quot;AwaBizan&quot;</span>;</div>
<div class="line">    entries[4].<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = 9;</div>
<div class="line">    bos_eos.<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#ae4500a41e86280d3c92a2889775d2e16">key_handle</a> = <a class="code hl_function" href="entry_8h.html#a64913ec022f1a98deb8b5da22dd4e44c">tetengo_lattice_entry_toKeyHandle</a>(p_bos_eos_key);</div>
<div class="line">    bos_eos.<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a64e3a3ac420e17e043b518463058b9c0">p_value</a> = <a class="code hl_function" href="entry_8h.html#abc8cb31cca26a63888808e17194fffdd">tetengo_lattice_entryView_valueOf</a>(<a class="code hl_function" href="entry_8h.html#a3dbd670c9b42bd46a0d589487590216d">tetengo_lattice_entryView_bosEos</a>()-&gt;value_handle);</div>
<div class="line">    bos_eos.<a class="code hl_variable" href="structtetengo__lattice__entry__tag.html#a3ac00c8cb51b33e3702af0182c497329">cost</a> = <a class="code hl_function" href="entry_8h.html#a3dbd670c9b42bd46a0d589487590216d">tetengo_lattice_entryView_bosEos</a>()-&gt;<a class="code hl_variable" href="structtetengo__lattice__entryView__tag.html#a0a7ccfbffc54616081c9104be9616d47">cost</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structtetengo__lattice__keyEntriesPair__tag.html">tetengo_lattice_keyEntriesPair_t</a> entry_mappings[3];</div>
<div class="line">    entry_mappings[0].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a3a76bee7ab5c39e4e22fcc262e385ab8">p_head</a> = <span class="stringliteral">&quot;a&quot;</span>;</div>
<div class="line">    entry_mappings[0].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a1b75d87e4f2ff17352654339fe3eaac3">length</a> = 1;</div>
<div class="line">    entry_mappings[0].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a1dc5ab5f00b59ffec5d8382918835262">p_entries</a> = &amp;entries[0];</div>
<div class="line">    entry_mappings[0].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#aa6aa8077c095ed0f3eaf35bd4b846add">entry_count</a> = 2;</div>
<div class="line">    entry_mappings[1].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a3a76bee7ab5c39e4e22fcc262e385ab8">p_head</a> = <span class="stringliteral">&quot;b&quot;</span>;</div>
<div class="line">    entry_mappings[1].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a1b75d87e4f2ff17352654339fe3eaac3">length</a> = 1;</div>
<div class="line">    entry_mappings[1].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a1dc5ab5f00b59ffec5d8382918835262">p_entries</a> = &amp;entries[2];</div>
<div class="line">    entry_mappings[1].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#aa6aa8077c095ed0f3eaf35bd4b846add">entry_count</a> = 2;</div>
<div class="line">    entry_mappings[2].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a3a76bee7ab5c39e4e22fcc262e385ab8">p_head</a> = <span class="stringliteral">&quot;ab&quot;</span>;</div>
<div class="line">    entry_mappings[2].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a15698f06450e0a605669bd2a078c94f1">key</a>.<a class="code hl_variable" href="structtetengo__lattice__stringView__tag.html#a1b75d87e4f2ff17352654339fe3eaac3">length</a> = 2;</div>
<div class="line">    entry_mappings[2].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#a1dc5ab5f00b59ffec5d8382918835262">p_entries</a> = &amp;entries[4];</div>
<div class="line">    entry_mappings[2].<a class="code hl_variable" href="structtetengo__lattice__keyEntriesPair__tag.html#aa6aa8077c095ed0f3eaf35bd4b846add">entry_count</a> = 1;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structtetengo__lattice__entriesConnectionCostPair__tag.html">tetengo_lattice_entriesConnectionCostPair_t</a> connections[10];</div>
<div class="line">    connections[0].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;bos_eos;</div>
<div class="line">    connections[0].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[0];</div>
<div class="line">    connections[0].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 3;</div>
<div class="line">    connections[1].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;bos_eos;</div>
<div class="line">    connections[1].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[1];</div>
<div class="line">    connections[1].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 1;</div>
<div class="line">    connections[2].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[0];</div>
<div class="line">    connections[2].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[2];</div>
<div class="line">    connections[2].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 4;</div>
<div class="line">    connections[3].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[1];</div>
<div class="line">    connections[3].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[2];</div>
<div class="line">    connections[3].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 1;</div>
<div class="line">    connections[4].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[0];</div>
<div class="line">    connections[4].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[3];</div>
<div class="line">    connections[4].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 5;</div>
<div class="line">    connections[5].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[1];</div>
<div class="line">    connections[5].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[3];</div>
<div class="line">    connections[5].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 9;</div>
<div class="line">    connections[6].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[2];</div>
<div class="line">    connections[6].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;bos_eos;</div>
<div class="line">    connections[6].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 2;</div>
<div class="line">    connections[7].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[3];</div>
<div class="line">    connections[7].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;bos_eos;</div>
<div class="line">    connections[7].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 6;</div>
<div class="line">    connections[8].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;bos_eos;</div>
<div class="line">    connections[8].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;entries[4];</div>
<div class="line">    connections[8].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 7;</div>
<div class="line">    connections[9].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#abfe9f4c0fd6808947f4490ca5468ed43">p_from</a> = &amp;entries[4];</div>
<div class="line">    connections[9].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a95627cbf2b371e401c8e2cbf23ef8763">p_to</a> = &amp;bos_eos;</div>
<div class="line">    connections[9].<a class="code hl_variable" href="structtetengo__lattice__entriesConnectionCostPair__tag.html#a8c60600a22a7a939aad87f8f01816c28">cost</a> = 1;</div>
<div class="line"> </div>
<div class="line">    tetengo_lattice_vocabulary_t* <span class="keyword">const</span> p_vocabulary = <a class="code hl_function" href="vocabulary_8h.html#a4a3dc3bcd68546c95f141001d8235bd3">tetengo_lattice_vocabulary_createUnorderedMapVocabulary</a>(</div>
<div class="line">        entry_mappings,</div>
<div class="line">        <span class="keyword">sizeof</span>(entry_mappings) / <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtetengo__lattice__keyEntriesPair__tag.html">tetengo_lattice_keyEntriesPair_t</a>),</div>
<div class="line">        connections,</div>
<div class="line">        <span class="keyword">sizeof</span>(connections) / <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtetengo__lattice__entriesConnectionCostPair__tag.html">tetengo_lattice_entriesConnectionCostPair_t</a>),</div>
<div class="line">        entry_hash,</div>
<div class="line">        entry_equal_to);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_bos_eos_key);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key_ab);</div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key_b);</div>
<div class="line">    <a class="code hl_function" href="input_8h.html#a9378c60363f16a2b1e9ce0606256d2c8">tetengo_lattice_input_destroy</a>(p_entry_key_a);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Returns a vocabulary implemented with hash tables.</span></div>
<div class="line">    <span class="keywordflow">return</span> p_vocabulary;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* value_of(<span class="keyword">const</span> <a class="code hl_struct" href="structtetengo__lattice__node__tag.html">tetengo_lattice_node_t</a>* <span class="keyword">const</span> p_node, <span class="keyword">const</span> <span class="keywordtype">bool</span> first)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The value is accessible by the handle.</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> value = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code hl_function" href="entry_8h.html#abc8cb31cca26a63888808e17194fffdd">tetengo_lattice_entryView_valueOf</a>(p_node-&gt;<a class="code hl_variable" href="structtetengo__lattice__node__tag.html#a0573cdaabd6ccbf4920e20e04bd73986">value_handle</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (value)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> value;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (first)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;BOS&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;EOS&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* to_string(<span class="keyword">const</span> tetengo_lattice_path_t* <span class="keyword">const</span> p_path)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">char</span> result[48] = { 0 };</div>
<div class="line">    result[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Each path object holds the nodes that make up itself, and the whole cost.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">size_t</span>                  node_count = <a class="code hl_function" href="path_8h.html#a3d66770d67eec0a59f05a5ba7b2edf45">tetengo_lattice_path_pNodes</a>(p_path, NULL);</div>
<div class="line">        <a class="code hl_struct" href="structtetengo__lattice__node__tag.html">tetengo_lattice_node_t</a>* <span class="keyword">const</span> p_nodes =</div>
<div class="line">            (<a class="code hl_struct" href="structtetengo__lattice__node__tag.html">tetengo_lattice_node_t</a>*)malloc(node_count * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structtetengo__lattice__node__tag.html">tetengo_lattice_node_t</a>));</div>
<div class="line">        <span class="keywordflow">if</span> (!p_nodes)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> result;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="path_8h.html#a3d66770d67eec0a59f05a5ba7b2edf45">tetengo_lattice_path_pNodes</a>(p_path, p_nodes);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; node_count; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (i &gt; 0)</div>
<div class="line">            {</div>
<div class="line">                strncat(result, <span class="stringliteral">&quot;-&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">            }</div>
<div class="line">            strncat(result, <span class="stringliteral">&quot;[&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">            strncat(result, value_of(&amp;p_nodes[i], i == 0), <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">            strncat(result, <span class="stringliteral">&quot;]&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">        }</div>
<div class="line">        strncat(result, <span class="stringliteral">&quot; (&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">        snprintf(result + strlen(result), <span class="keyword">sizeof</span>(result) - strlen(result), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code hl_function" href="path_8h.html#a1d982210eb8753c471351adb0fc14632">tetengo_lattice_path_cost</a>(p_path));</div>
<div class="line">        strncat(result, <span class="stringliteral">&quot;)&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">        free(p_nodes);</div>
<div class="line">    }</div>
<div class="line">    strncat(result, <span class="stringliteral">&quot;\n&quot;</span>, <span class="keyword">sizeof</span>(result) - strlen(result) - 1);</div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetetengo.html">tetengo</a></li><li class="navelem"><a class="el" href="namespacetetengo_1_1lattice.html">lattice</a></li>
    <li class="footer">Generated on Sat Aug 31 2024 15:54:00 for tetengo by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
